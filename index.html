<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mini P√¥neis LN - PWA</title>
    <meta name="description" content="Sistema de gest√£o completo para criadores de mini p√¥neis">
    <meta name="theme-color" content="#4a5d23">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Mini P√¥neis LN">
    
    <!-- Icons - CORRIGIDO: removido icons/ -->
    <link rel="icon" type="image/png" sizes="32x32" href="icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon-16x16.png">
    <link rel="apple-touch-icon" href="icon-192x192.png">
    
    <!-- CSS - CORRIGIDO: removido css/ -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üê¥ Mini P√¥neis LN</h1>
        </header>
        
        <nav class="nav-tabs">
            <button class="nav-tab active" onclick="mostrarSecao('dashboard')">Dashboard</button>
            <button class="nav-tab" onclick="mostrarSecao('animais')">Animais</button>
            <button class="nav-tab" onclick="mostrarSecao('genealogia')">Genealogia</button>
            <button class="nav-tab" onclick="mostrarSecao('reproducao')">Reprodu√ß√£o</button>
            <button class="nav-tab" onclick="mostrarSecao('partos')">Partos</button>
            <button class="nav-tab" onclick="mostrarSecao('saidas')">Sa√≠das</button>
            <button class="nav-tab" onclick="mostrarSecao('saude')">Sa√∫de</button>
            <button class="nav-tab" onclick="mostrarSecao('relatorios')">Relat√≥rios</button>
            <button class="nav-tab" onclick="mostrarSecao('backup')">Backup</button>
        </nav>

        <!-- Dashboard -->
        <section id="dashboard" class="section active">
            <h2>üìä Dashboard Executivo</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-animais">0</div>
                    <div class="stat-label">Total de Animais</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="gestacoes-ativas">0</div>
                    <div class="stat-label">Gesta√ß√µes Ativas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="receita-vendas">R$ 0</div>
                    <div class="stat-label">Receita de Vendas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="animais-ativos">0</div>
                    <div class="stat-label">Animais Ativos</div>
                </div>
            </div>
            
            <div class="dashboard-charts">
                <div class="chart-container">
                    <h3>Status dos Animais</h3>
                    <div id="status-chart" class="chart-placeholder">
                        <div class="status-item">
                            <span class="status-dot active"></span>
                            <span>Ativos: <span id="chart-ativos">0</span></span>
                        </div>
                        <div class="status-item">
                            <span class="status-dot vendido"></span>
                            <span>Vendidos: <span id="chart-vendidos">0</span></span>
                        </div>
                        <div class="status-item">
                            <span class="status-dot falecido"></span>
                            <span>Falecidos: <span id="chart-falecidos">0</span></span>
                        </div>
                        <div class="status-item">
                            <span class="status-dot perdido"></span>
                            <span>Perdidos: <span id="chart-perdidos">0</span></span>
                        </div>
                    </div>
                </div>
                
                <div class="chart-container">
                    <h3>√öltimas Atividades</h3>
                    <div id="atividades-recentes" class="atividades-list">
                        <p>Nenhuma atividade registrada ainda.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Animais -->
        <section id="animais" class="section">
            <h2>üêé Gest√£o de Animais</h2>
            
            <div class="form-container">
                <h3>Cadastrar Novo Animal</h3>
                <form id="form-animal">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="nome-animal">Nome:</label>
                            <input type="text" id="nome-animal" required>
                        </div>
                        <div class="form-group">
                            <label for="sexo-animal">Sexo:</label>
                            <select id="sexo-animal" required>
                                <option value="">Selecione o sexo</option>
                                <option value="Macho">Macho</option>
                                <option value="F√™mea">F√™mea</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="raca-animal">Ra√ßa:</label>
                            <input type="text" id="raca-animal" required>
                        </div>
                        <div class="form-group">
                            <label for="nascimento-animal">Data de Nascimento:</label>
                            <input type="date" id="nascimento-animal" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cor-animal">Cor:</label>
                            <input type="text" id="cor-animal" required>
                        </div>
                        <div class="form-group">
                            <label for="status-animal">Status:</label>
                            <select id="status-animal" required>
                                <option value="Ativo">Ativo</option>
                                <option value="Vendido">Vendido</option>
                                <option value="Falecido">Falecido</option>
                                <option value="Perdido">Perdido</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pai-animal">Pai:</label>
                            <select id="pai-animal">
                                <option value="">N√£o informado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="mae-animal">M√£e:</label>
                            <select id="mae-animal">
                                <option value="">N√£o informado</option>
                            </select>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary">Cadastrar Animal</button>
                </form>
            </div>
            
            <div class="list-container">
                <h3>Animais Cadastrados</h3>
                <div id="lista-animais" class="animais-grid">
                    <p>Nenhum animal cadastrado ainda.</p>
                </div>
            </div>
        </section>

        <!-- Genealogia -->
        <section id="genealogia" class="section">
            <h2>üß¨ Controle de Genealogia</h2>
            
            <div class="genealogia-container">
                <div class="animal-selector">
                    <h3>Selecionar Animal</h3>
                    <select id="animal-genealogia">
                        <option value="">Selecione um animal</option>
                    </select>
                    <button onclick="mostrarArvoreGenealogica()" class="btn-secondary">Ver √Årvore Geneal√≥gica</button>
                </div>
                
                <div id="arvore-genealogica" class="arvore-container">
                    <h3>√Årvore Geneal√≥gica</h3>
                    <div class="arvore-visual">
                        <div class="geracao">
                            <div class="animal-box">
                                <div class="animal-info" id="avo-paterno">
                                    <strong>Av√¥ Paterno</strong><br>
                                    <span>-</span>
                                </div>
                            </div>
                            <div class="animal-box">
                                <div class="animal-info" id="avo-paterna">
                                    <strong>Av√≥ Paterna</strong><br>
                                    <span>-</span>
                                </div>
                            </div>
                            <div class="animal-box">
                                <div class="animal-info" id="avo-materno">
                                    <strong>Av√¥ Materno</strong><br>
                                    <span>-</span>
                                </div>
                            </div>
                            <div class="animal-box">
                                <div class="animal-info" id="avo-materna">
                                    <strong>Av√≥ Materna</strong><br>
                                    <span>-</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="geracao">
                            <div class="animal-box">
                                <div class="animal-info" id="pai-genealogia">
                                    <strong>Pai</strong><br>
                                    <span>-</span>
                                </div>
                            </div>
                            <div class="animal-box">
                                <div class="animal-info" id="mae-genealogia">
                                    <strong>M√£e</strong><br>
                                    <span>-</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="geracao">
                            <div class="animal-box central">
                                <div class="animal-info" id="animal-central">
                                    <strong id="nome-central">Selecione um animal</strong><br>
                                    <span id="info-central">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="consanguinidade-container">
                <h3>An√°lise de Consanguinidade</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="macho-consanguinidade">Macho:</label>
                        <select id="macho-consanguinidade">
                            <option value="">Selecione o macho</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="femea-consanguinidade">F√™mea:</label>
                        <select id="femea-consanguinidade">
                            <option value="">Selecione a f√™mea</option>
                        </select>
                    </div>
                </div>
                <button onclick="analisarConsanguinidade()" class="btn-primary">Analisar Consanguinidade</button>
                
                <div id="resultado-consanguinidade" class="resultado-analise">
                    <!-- Resultado da an√°lise aparecer√° aqui -->
                </div>
            </div>
        </section>

        <!-- Reprodu√ß√£o -->
        <section id="reproducao" class="section">
            <h2>üíï Controle de Reprodu√ß√£o</h2>
            
            <div class="form-container">
                <h3>Registrar Nova Cobertura</h3>
                <form id="form-cobertura">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="femea-cobertura">F√™mea:</label>
                            <select id="femea-cobertura" required>
                                <option value="">Selecione a f√™mea</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="data-cobertura">Data da Cobertura:</label>
                            <input type="date" id="data-cobertura" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="macho-cobertura">Macho:</label>
                            <select id="macho-cobertura" required>
                                <option value="">Selecione o macho</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="observacoes-cobertura">Observa√ß√µes:</label>
                            <textarea id="observacoes-cobertura" placeholder="Observa√ß√µes sobre a cobertura"></textarea>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary">Registrar Cobertura</button>
                </form>
            </div>
            
            <div class="list-container">
                <h3>Coberturas Registradas</h3>
                <div id="lista-coberturas" class="coberturas-list">
                    <p>Nenhuma cobertura registrada ainda.</p>
                </div>
            </div>
            
            <div class="list-container">
                <h3>Gesta√ß√µes Confirmadas</h3>
                <div id="lista-gestacoes" class="gestacoes-list">
                    <p>Nenhuma gesta√ß√£o confirmada ainda.</p>
                </div>
            </div>
        </section>

        <!-- Partos -->
        <section id="partos" class="section">
            <h2>üçº Controle de Partos</h2>
            
            <div class="form-container">
                <h3>Registrar Novo Parto</h3>
                <form id="form-parto">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mae-parto">F√™mea (M√£e):</label>
                            <select id="mae-parto" required>
                                <option value="">Selecione a m√£e</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="nome-potro">Nome do Potro:</label>
                            <input type="text" id="nome-potro" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="pai-parto">Macho (Pai):</label>
                            <select id="pai-parto" required>
                                <option value="">Selecione o pai</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="sexo-potro">Sexo do Potro:</label>
                            <select id="sexo-potro" required>
                                <option value="">Selecione o sexo</option>
                                <option value="Macho">Macho</option>
                                <option value="F√™mea">F√™mea</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="data-parto">Data do Parto:</label>
                            <input type="date" id="data-parto" required>
                        </div>
                        <div class="form-group">
                            <label for="observacoes-parto">Observa√ß√µes:</label>
                            <textarea id="observacoes-parto" placeholder="Observa√ß√µes sobre o parto"></textarea>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary">Registrar Parto</button>
                </form>
            </div>
            
            <div class="list-container">
                <h3>Partos Previstos (Baseado em Gesta√ß√µes)</h3>
                <div id="partos-previstos" class="partos-previstos-list">
                    <p>Nenhum parto pr√≥ximo baseado nas gesta√ß√µes ativas.</p>
                </div>
            </div>
            
            <div class="list-container">
                <h3>Hist√≥rico de Nascimentos</h3>
                <div id="historico-partos" class="partos-list">
                    <p>Nenhum parto registrado.</p>
                </div>
            </div>
        </section>

        <!-- Sa√≠das -->
        <section id="saidas" class="section">
            <h2>üì§ Controle de Sa√≠das</h2>
            
            <div class="form-container">
                <h3>Registrar Nova Sa√≠da</h3>
                <form id="form-saida">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="animal-saida">Animal:</label>
                            <select id="animal-saida" required>
                                <option value="">Selecione o animal</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="tipo-saida">Tipo de Sa√≠da:</label>
                            <select id="tipo-saida" required onchange="mostrarCamposVenda()">
                                <option value="">Selecione o tipo</option>
                                <option value="Venda">Venda</option>
                                <option value="Morte">Morte</option>
                                <option value="Perda">Perda</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="data-saida">Data da Sa√≠da:</label>
                            <input type="date" id="data-saida" required>
                        </div>
                        <div class="form-group" id="grupo-valor" style="display: none;">
                            <label for="valor-venda">Valor da Venda:</label>
                            <input type="number" id="valor-venda" step="0.01" placeholder="0.00">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group" id="grupo-comprador" style="display: none;">
                            <label for="comprador">Comprador:</label>
                            <input type="text" id="comprador" placeholder="Nome do comprador">
                        </div>
                        <div class="form-group">
                            <label for="observacoes-saida">Observa√ß√µes:</label>
                            <textarea id="observacoes-saida" placeholder="Observa√ß√µes sobre a sa√≠da"></textarea>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn-primary">Registrar Sa√≠da</button>
                </form>
            </div>
            
            <div class="resumo-financeiro">
                <h3>Resumo Financeiro</h3>
                <div class="stats-row">
                    <div class="stat-item">
                        <span class="stat-label">Total de Vendas:</span>
                        <span class="stat-value" id="total-vendas">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Receita Total:</span>
                        <span class="stat-value" id="receita-total">R$ 0,00</span>
                    </div>
                </div>
            </div>
            
            <div class="list-container">
                <h3>Hist√≥rico de Sa√≠das</h3>
                <div id="lista-saidas" class="saidas-list">
                    <p>Nenhuma sa√≠da registrada ainda.</p>
                </div>
            </div>
        </section>

        <!-- Sa√∫de -->
        <section id="saude" class="section">
            <h2>üè• Controle de Sa√∫de</h2>
            
            <div class="form-container">
                <h3>Registrar Procedimento de Sa√∫de</h3>
                <form id="form-saude">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="animal-saude">Animal:</label>
                            <select id="animal-saude" required>
                                <option value="">Selecione o animal</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="data-procedimento">Data do Procedimento:</label>
                            <input type="date" id="data-procedimento" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="tipo-procedimento">Tipo de Procedimento:</label>
                            <select id="tipo-procedimento" required>
                                <option value="">Selecione o tipo</option>
                                <option value="Vacina√ß√£o">Vacina√ß√£o</option>
                                <option value="Vermifuga√ß√£o">Vermifuga√ß√£o</option>
                                <option value="Consulta">Consulta Veterin√°ria</option>
                                <option value="Tratamento">Tratamento</option>
                                <option value="Exame">Exame</option>
                                <option value="Cirurgia">Cirurgia</option>
                                <option value="Outro">Outro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="veterinario">Veterin√°rio:</label>
                            <input type="text" id="veterinario" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="observacoes-saude">Observa√ß√µes:</label>
                        <textarea id="observacoes-saude" placeholder="Detalhes do procedimento, medicamentos utilizados, etc." required></textarea>
                    </div>
                    
                    <button type="submit" class="btn-primary">Registrar Procedimento</button>
                </form>
            </div>
            
            <div class="list-container">
                <h3>Hist√≥rico de Sa√∫de</h3>
                <div id="lista-saude" class="saude-list">
                    <p>Nenhum procedimento registrado ainda.</p>
                </div>
            </div>
        </section>

        <!-- Relat√≥rios -->
        <section id="relatorios" class="section">
            <h2>üìã Relat√≥rios Especializados</h2>
            
            <div class="relatorios-grid">
                <div class="relatorio-card" onclick="gerarRelatorio('rebanho')">
                    <h3>üìä Relat√≥rio de Rebanho Ativo</h3>
                    <p>Lista completa dos animais ativos com informa√ß√µes detalhadas</p>
                    <button class="btn-secondary">Gerar Relat√≥rio</button>
                </div>
                
                <div class="relatorio-card" onclick="gerarRelatorio('genealogico')">
                    <h3>üß¨ An√°lise Geneal√≥gica</h3>
                    <p>Mapeamento completo das linhagens e parentescos</p>
                    <button class="btn-secondary">Gerar Relat√≥rio</button>
                </div>
                
                <div class="relatorio-card" onclick="gerarRelatorio('reprodutivo')">
                    <h3>üíï Relat√≥rio Reprodutivo</h3>
                    <p>Hist√≥rico de coberturas, gesta√ß√µes e nascimentos</p>
                    <button class="btn-secondary">Gerar Relat√≥rio</button>
                </div>
                
                <div class="relatorio-card" onclick="gerarRelatorio('financeiro')">
                    <h3>üí∞ Controle Financeiro</h3>
                    <p>An√°lise de vendas e receitas do rebanho</p>
                    <button class="btn-secondary">Gerar Relat√≥rio</button>
                </div>
                
                <div class="relatorio-card" onclick="gerarRelatorio('saude-geral')">
                    <h3>üè• Relat√≥rio de Sa√∫de</h3>
                    <p>Hist√≥rico veterin√°rio e procedimentos realizados</p>
                    <button class="btn-secondary">Gerar Relat√≥rio</button>
                </div>
                
                <div class="relatorio-card" onclick="gerarRelatorio('estatisticas')">
                    <h3>üìà Estat√≠sticas Gerais</h3>
                    <p>Indicadores e m√©tricas do sistema de gest√£o</p>
                    <button class="btn-secondary">Gerar Relat√≥rio</button>
                </div>
            </div>
            
            <div id="conteudo-relatorio" class="relatorio-conteudo">
                <p>Selecione um relat√≥rio acima para visualizar os dados.</p>
            </div>
        </section>

        <!-- Backup -->
        <section id="backup" class="section">
            <h2>üíæ Importa√ß√£o e Exporta√ß√£o de Dados</h2>
            
            <div class="backup-container">
                <div class="backup-section">
                    <h3>üì§ Exportar Dados</h3>
                    <p>Fa√ßa backup de todos os seus dados para manter suas informa√ß√µes seguras.</p>
                    
                    <div class="dados-incluidos">
                        <h4>Dados inclu√≠dos no backup:</h4>
                        <ul>
                            <li>üêé Animais cadastrados</li>
                            <li>üíï Coberturas registradas</li>
                            <li>ü§∞ Gesta√ß√µes ativas</li>
                            <li>üçº Hist√≥rico de partos</li>
                            <li>üì§ Registro de sa√≠das</li>
                            <li>üè• Hist√≥rico de sa√∫de</li>
                        </ul>
                    </div>
                    
                    <div class="export-buttons">
                        <button onclick="exportarDados('json')" class="btn-primary">
                            üìÑ Exportar como JSON
                        </button>
                        <button onclick="exportarDados('csv')" class="btn-secondary">
                            üìä Exportar como CSV
                        </button>
                    </div>
                </div>
                
                <div class="backup-section">
                    <h3>üì• Importar Dados</h3>
                    <p>Restaure seus dados de um arquivo de backup anterior.</p>
                    
                    <div class="import-area">
                        <input type="file" id="arquivo-importacao" accept=".json,.csv" style="display: none;">
                        <button onclick="document.getElementById('arquivo-importacao').click()" class="btn-secondary">
                            üìÅ Selecionar Arquivo
                        </button>
                        <button onclick="importarDados()" class="btn-primary">
                            üì• Importar Dados
                        </button>
                    </div>
                    
                    <div class="import-warning">
                        <p>‚ö†Ô∏è <strong>Aten√ß√£o:</strong> A importa√ß√£o substituir√° todos os dados atuais. Certifique-se de fazer um backup antes de importar.</p>
                    </div>
                </div>
                
                <div id="status-backup" class="status-backup">
                    <!-- Status das opera√ß√µes de backup aparecer√° aqui -->
                </div>
            </div>
        </section>
    </div>

    <!-- JavaScript - CORRIGIDO: removido js/ -->
    <script src="app.js"></script>
    <script src="service-worker-register.js"></script>
</body>
</html>
